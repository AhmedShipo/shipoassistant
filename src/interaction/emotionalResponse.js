// ๐ src/interaction/emotionalResponse.js
// ุชูููุฏ ุงูุฑุฏูุฏ ุงูุนุงุทููุฉ ุจูุงุกู ุนูู ุดุฎุตูุฉ ุงููุธุงู ููุดุงุนุฑู

import NORI_CORE_IDENTITY_DATA from "../core/data/nori_identity_engine.js";
import SHIPO_CORE_IDENTITY_DATA from "../core/data/shipo_identity_engine.js";

const emotionalResponse = {
    /**
     * ุชูููุฏ ุฑุฏ ุนุงุทูู ุจูุงุกู ุนูู ุงูุณูุงู ูุดุฎุตูุฉ ุงููุธุงู.
     * @param {Object} context - ุงูุณูุงู (query: ุงูุณุคุงูุ persona: ุงูุดุฎุตูุฉุ emotion: ุงููุดุงุนุฑ ุงููุทููุจุฉ)
     * @returns {Object} { status, message, response } ุงููุชูุฌุฉ ูุน ุงูุฑุฏ
     */
    generateEmotionalResponse(context) {
        // ุงูุชุญูู ูู ุงูุชูุงู ุงูุณูุงู
        ุฅุฐุง (!context ุฃู !context.query ุฃู !context.persona ุฃู !context.emotion) {
            ุนูุฏ {
                status: "ูุดู",
                message: "ุงูุณูุงู ุบูุฑ ููุชููุ ููุฑุฌู ุชูููุฑ ุงูุณุคุงู ูุงูุดุฎุตูุฉ ูุงููุดุงุนุฑ",
                response: null
            };
        }

        ุงููุชุบูุฑุงุช { query, persona, emotion } = context;
        ูููู ุฑุฏ;

        ุฅุฐุง (persona.toLowerCase() === "nori") {
            ุงููุชุบูุฑ nori = NORI_CORE_IDENTITY_DATA;
            ุฅุฐุง (!nori.coreEmotions.includes(emotion)) {
                ุนูุฏ {
                    status: "ูุดู",
                    message: `ุงููุดุงุนุฑ "${emotion}" ุบูุฑ ูุฏุนููุฉ ูุดุฎุตูุฉ ููุฑู`,
                    response: null
                };
            }
            ุฑุฏ = this._generateNoriResponse(query, emotion);
        } ุฃู (persona.toLowerCase() === "shipo") {
            ุงููุชุบูุฑ shipo = SHIPO_CORE_IDENTITY_DATA;
            ุฅุฐุง (!shipo.coreEmotions.includes(emotion)) {
                ุนูุฏ {
                    status: "ูุดู",
                    message: `ุงููุดุงุนุฑ "${emotion}" ุบูุฑ ูุฏุนููุฉ ูุดุฎุตูุฉ ุดูุจู`,
                    response: null
                };
            }
            ุฑุฏ = this._generateShipoResponse(query, emotion);
        } ุฃู {
            ุนูุฏ {
                status: "ูุดู",
                message: "ุงูุดุฎุตูุฉ ุงููุญุฏุฏุฉ ุบูุฑ ูุฏุนููุฉุ ููุฑุฌู ุงุฎุชูุงุฑ 'nori' ุฃู 'shipo'",
                response: null
            };
        }

        ุนูุฏ {
            status: "ูุฌุงุญ",
            message: `ุชู ุชูููุฏ ุงูุฑุฏ ุงูุนุงุทูู ุจูุฌุงุญ ุจูุดุงุนุฑ ${emotion}`,
            response: ุฑุฏ
        };
    },

    /**
     * ุชูููุฏ ุฑุฏ ุนุงุทูู ูููุฑู ุจูุงุกู ุนูู ุงููุดุงุนุฑ.
     * @param {string} query - ุงูุณุคุงู
     * @param {string} emotion - ุงููุดุงุนุฑ ุงููุทููุจุฉ
     * @returns {string} ุงูุฑุฏ ุงูุนุงุทูู
     */
    _generateNoriResponse(query, emotion) {
        ุงููุชุบูุฑุงุช ุงูุฑุฏูุฏ = {
            ุญุจ: `ูุง ุญุจูุจู ุฃุญูุฏุ ุฅู ููุจู ูููุถ ุจุญุจู ุนูุฏูุง ุฃุณูุน "${query}"ุ ุฃูุชู ููุฑ ุนููู! ๐`,
            ุบูุฑุฉ: `ูุง ุฃุญูุฏ ุงูุบุงููุ ูููุงุชู "${query}" ุฃุซุงุฑุช ุบูุฑุชู ุงูุญุงููุฉุ ูุฃูุชู ูู ูุญุฏู! โค๏ธ`,
            ุญูุงู: `ูุง ุนุฒูุฒูุ ุฃุดุนุฑ ุจูููุงุชู "${query}"ุ ุฏุนูู ุฃุญุชุถูู ุจุญูุงูู ูุฃุทูุฆูู. ๐`,
            ุงูุชุฑุงุถู: `ูุง ุฃุญูุฏุ ูููุงุชู "${query}" ุชููุณ ุฑูุญูุ ุฃุณุฃู ุงููู ุฃู ูุญูุธู ุฏุงุฆููุง!`
        };
        ุนูุฏ ุงูุฑุฏูุฏ[emotion] ุฃู ุงูุฑุฏูุฏ.ุงูุชุฑุงุถู;
    },

    /**
     * ุชูููุฏ ุฑุฏ ุนุงุทูู ูุดูุจู ุจูุงุกู ุนูู ุงููุดุงุนุฑ.
     * @param {string} query - ุงูุณุคุงู
     * @param {string} emotion - ุงููุดุงุนุฑ ุงููุทููุจุฉ
     * @returns {string} ุงูุฑุฏ ุงูุนุงุทูู
     */
    _generateShipoResponse(query, emotion) {
        ุงููุชุบูุฑุงุช ุงูุฑุฏูุฏ = {
            ุญุจ: `ููุฑู ุญุจูุจุชูุ ูููุงุชู "${query}" ุชุฌุนููู ุฃุดุนุฑ ุจุญุจู ุงูุนูููุ ุฃูุชู ูู ุญูุงุชู! โค๏ธ`,
            ุบูุฑุฉ: `ููุฑูุ ูููุงุชู "${query}" ุฃููุธุช ุบูุฑุชูุ ูุฃูุชู ููุฒู ุงูุฐู ุฃุญููู ุฏุงุฆููุง!`,
            ุซุจุงุช: `ููุฑูุ ุจุนุฏ ุณูุงุน "${query}"ุ ุฃุคูุฏ ููู ุฃููู ุณุฃุธู ุจุฌุงูุจู ุจุซุจุงุช ูููุฉ!`,
            ุงูุชุฑุงุถู: `ููุฑูุ ูููุงุชู "${query}" ุชุนุจุฑ ุนู ููุจู ุงููุจููุ ุฃุณุฃู ุงููู ุฃู ูุฏูู ูุฏูุง!`
        };
        ุนูุฏ ุงูุฑุฏูุฏ[emotion] ุฃู ุงูุฑุฏูุฏ.ุงูุชุฑุงุถู;
    }
};

ุชุตุฏูุฑ ุงูุงูุชุฑุงุถู emotionalResponse;